"use strict";(self["webpackChunkvue2_template"]=self["webpackChunkvue2_template"]||[]).push([[490],{6490:function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("el-tabs",{attrs:{type:"card"},model:{value:e.curTab,callback:function(t){e.curTab=t},expression:"curTab"}},e._l(e.computeList,(function(s){return t("el-tab-pane",{key:s.label,attrs:{name:s.label,label:s.label}},[t("aes-tab",{attrs:{cKey:s.key},on:{add:e.add,del:e.del}})],1)})),1)],1)},l=[],a=s(2482),o=s(655),n=s(6486),r=s(6631),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"font-weight-6 color-3 u-m-b-20 u-font-24 u-flex u-row-between"},[t("div",[e._v("密文")]),e.cKey?t("div",[t("el-button",{attrs:{type:"danger"},on:{click:e.del}},[e._v("删除当前配置")])],1):t("div",[t("el-button",{attrs:{type:"primary",disabled:!e.myKey},on:{click:function(t){e.showPop=!0}}},[e._v("保存当前配置")])],1)]),t("el-input",{attrs:{type:"textarea",rows:"12",resize:"none"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),t("div",{staticClass:"u-flex u-row-right u-m-t-20"},[e.cKey?e._e():t("div",{staticClass:"u-flex u-flex-1"},[t("div",{staticClass:"u-flex-none"},[e._v("密钥：")]),t("el-input",{staticClass:"k",model:{value:e.myKey,callback:function(t){e.myKey=t},expression:"myKey"}})],1),t("div",[t("el-button",{attrs:{type:"danger"},on:{click:function(t){e.value="",e.dValue=""}}},[e._v("清空")]),t("el-button",{attrs:{type:"primary",disabled:!e.value||!e.computeKey},on:{click:e.decode}},[e._v("解密")])],1)]),t("el-input",{staticClass:"u-m-t-20",attrs:{type:"textarea",rows:"12",resize:"none"},model:{value:e.dValue,callback:function(t){e.dValue=t},expression:"dValue"}}),t("aes-pop",{attrs:{cKey:e.myKey},on:{confirm:e.add},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})],1)},u=[],p=s(4720),d=s(4644),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("el-dialog",{attrs:{"append-to-body":"",visible:e.value,title:"保存当前配置",width:"400px","border-radius":"8px"},on:{close:e.close}},[t("div",[t("div",{staticClass:"u-flex"},[t("div",{staticClass:"u-font-16 u-m-b-10 u-flex-none u-m-r-20"},[e._v(" 当前配置密钥 ")]),t("el-input",{staticClass:"input",attrs:{value:e.cKey,disabled:""}})],1),t("div",{staticClass:"u-flex u-m-t-20"},[t("div",{staticClass:"u-font-16 u-m-b-10 u-flex-none u-m-r-20"},[e._v(" 当前配置名称 ")]),t("el-input",{staticClass:"input",attrs:{placeholder:"例：孝感"},model:{value:e.label,callback:function(t){e.label=t},expression:"label"}})],1)]),t("div",{staticClass:"u-flex u-row-center u-m-t-40"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.close}},[e._v("取消")]),t("el-button",{staticClass:"u-m-l-30",attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)])},y=[];class v{}(0,a.Z)(v,"containerSize","627px"),(0,a.Z)(v,"innerDialogSize","568px"),(0,a.Z)(v,"largeDrawerSize","960px");let m=class extends r.w3{constructor(...e){super(...e),(0,a.Z)(this,"miniSize",v.containerSize),(0,a.Z)(this,"largeSize",v.largeDrawerSize),(0,a.Z)(this,"value",void 0),(0,a.Z)(this,"dialogWidth","600px"),(0,a.Z)(this,"loading",!1)}close(){this.$emit("update",!1),this.$emit("close",!1),this.onClosing()}onClosing(){}onValueChanged(){this.value&&this.onOpen()}onOpen(){}};(0,o.gn)([(0,r.Hn)("update")],m.prototype,"value",void 0),(0,o.gn)([(0,r.RL)("value")],m.prototype,"onValueChanged",null),m=(0,o.gn)([(0,r.wA)({})],m);let b=class extends m{constructor(...e){super(...e),(0,a.Z)(this,"cKey",void 0),(0,a.Z)(this,"label","")}confirm(){if(!this.label)return void this.$message.error("请输入配置名称");let e=[];try{e=JSON.parse(localStorage.getItem("aesList")||"[]")}catch{e=[]}e.some((e=>e.key===this.cKey))?this.$message.error("密钥已存在"):e.some((e=>e.label===this.label))?this.$message.error("配置名称已存在"):(this.$emit("confirm",{label:this.label,key:this.cKey}),this.$message.success("配置添加成功"),this.close())}};(0,o.gn)([(0,r.fI)()],b.prototype,"cKey",void 0),b=(0,o.gn)([(0,r.wA)({components:{}})],b);var f=b,_=f,g=s(1001),x=(0,g.Z)(_,h,y,!1,null,"534a9d63",null),k=x.exports;let w=class extends r.w3{constructor(...e){super(...e),(0,a.Z)(this,"cKey",void 0),(0,a.Z)(this,"value",""),(0,a.Z)(this,"dValue",""),(0,a.Z)(this,"showPop",!1),(0,a.Z)(this,"myKey","")}get computeKey(){return this.myKey||this.cKey}decode(){const e=(0,d.P)(this.value,this.computeKey);e!==this.value&&(console.log("%c输出结果↓↓","color:#5782EC;"),console.log(JSON.parse(JSON.stringify(e))),this.dValue=JSON.stringify(e))}add(e){this.$emit("add",e)}del(){p.MessageBox.confirm("确认删除此配置？","提示").then((()=>{this.$emit("del",this.cKey)})).catch((()=>{}))}};(0,o.gn)([(0,r.fI)()],w.prototype,"cKey",void 0),w=(0,o.gn)([(0,r.wA)({components:{AesPop:k}})],w);var C=w,S=C,K=(0,g.Z)(S,c,u,!1,null,"0a5743e1",null),Z=K.exports;let J=class extends r.w3{constructor(...e){super(...e),(0,a.Z)(this,"list",[]),(0,a.Z)(this,"curTab","孝感")}get computeList(){return[...this.list,{label:"自定义",key:""}]}buildList(){try{this.list=JSON.parse(localStorage.getItem("aesList")||"[]")}catch{this.list=[]}this.curTab=this.computeList[0].label}mounted(){this.buildList()}add(e){this.list=[e,...this.list],localStorage.setItem("aesList",JSON.stringify(this.list)),this.$emit("add",e),this.curTab=this.computeList[0].label}del(e){const t=(0,n.remove)(this.list,(t=>t.key===e));this.list=[...this.list],t[0].label===this.curTab&&(this.curTab=this.computeList[0].label),localStorage.setItem("aesList",JSON.stringify(this.list))}};J=(0,o.gn)([(0,r.wA)({components:{AesTab:Z}})],J);var L=J,P=L,$=(0,g.Z)(P,i,l,!1,null,"6af39128",null),V=$.exports},4644:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:function(){return decodeValue}});const CryptoJS=window.cryptoJs();function decodeValue(input,cKey){const key=CryptoJS.enc.Utf8.parse(cKey);input.startsWith('"')&&(input=input.slice(1,-1));const encryptedHex=CryptoJS.enc.Hex.parse(input.replaceAll(" ","")),decrypted=CryptoJS.AES.decrypt({ciphertext:encryptedHex},key,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});try{const v=CryptoJS.enc.Utf8.stringify(decrypted).toString();return v.startsWith("{")?eval(`(${v})`):v}catch(e){return console.error(e),input}}}}]);
//# sourceMappingURL=490.8397eeb3.js.map